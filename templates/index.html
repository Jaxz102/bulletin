<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
        <link href="../static/style.css" rel="stylesheet" type="text/css">
        <title>Events Locator</title>
        <script>
            // var nodes = document.getElementsByClassName("node");
            // console.log(nodes);
            // for(var i = 0 ; i < nodes.length; i++){
            //     nodes[i].setAttribute("open", false);
            //     // nodes[i].addEventListener("mouseover", hover);
            // }
        </script>
    </head>
    <body>
        <nav class="navbar navbar-light bg-white align-items-center container-fluid" style="height: 80px; position: fixed; top: 0;">
            <!-- Navbar content -->
            <a href="/" style="text-decoration: none; margin-left: 50px;"><h1 class="text-warning fw-bolder">BULLETIN ðŸ“Œ</h1></a>
            <div class="float-end me-5" style="position: relative;">
                <button type="button" class="btn btn-warning dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false" style="margin-right: 50px; width: 120px;">
                    Sort By
                  </button>
                  <ul class="dropdown-menu" style="position: absolute;">
                    <li><a class="dropdown-item" href="/date1" >Date (Closest)</a></li>
                    <li><a class="dropdown-item" href="/date2">Date (Furthest)</a></li>
                    <li><a class="dropdown-item" href="/alpha1" >Name (Ascending)</a></li>
                    <li><a class="dropdown-item" href="/alpha2" >Name (Descending)</a></li>
                  </ul>
                  <a style="text-decoration: none; margin-right: 10px;" href="/addevents"><button class="btn btn-warning topcustom" style="width: 150px;">Add an Event</button></a> 
                
            </div>
        </nav>  
        
    
        <div> <!-- List of events -->
            {% for i in range(lstlen) %}
            <div class="node nodefront" style="margin-top: 25px;" onclick="expand(this)">
                <h2>{{eventsdb[i][0]}} - {{datelst[i]}}</h2>
                <div style="margin-left: 40px;">
                    <p>{{eventsdb[i][2]}}</p>
                    <p style="width: 85%">{{eventsdb[i][3]}}</p>
                    <p>{{eventsdb[i][4]}}<br>{{eventsdb[i][5]}}</p>
                   
                </div>
            </div>
            <!-- <img src=""> -->
            {% endfor %}
        </div>


        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>
        <!-- <script>

            const resetall = () => {
                let nodes = document.getElementsByClassName("node");
                for(var i = 0; i < nodes.length; i++){
                    nodes[i].open = false;
                    nodes[i].style.transform = "initial";
                }
            }

            const getdown = (thing1) =>{
                
                let nodes = document.getElementsByClassName("node");
                for(var i = 0; i < nodes.length; i++){
                    if(nodes[i] != thing1){
                        nodes[i].open = false;
                        nodes[i].style.transform = "initial";
                        console.log("CALLEDDD");
                    }
                }
                thing1.open = true;
                thing1.style.transform = "scale(1.5)";
                console.log("CALed NOW");
            }

            const expand = (thing) =>{
                console.log("CLICKEDD");
                if(thing.open != true){
                    getdown(thing);
                }
                else{
                    thing.open = false;
                    thing.style.transform = "initial";
            
                }
                
            }

        

        </script> -->

    </body>
    <footer>
        <br>
        <a style="text-decoration: none; display: block; margin: auto; margin-left: calc(50% - 50px); margin-bottom: 30px;" href="/login">Admin Sign In</a> 
    </footer>
</html>